<main>
  <div class="main-content mat-elevation-z2">
    <h2>{{ subTitle }}</h2>
    <section class="section-classes" *ngIf="disciplines.disciplines.length">
      <h3>Detalhes</h3>
      <table class="mat-elevation-z4">
        <tbody>
          <tr *ngFor="let discipline of disciplines.disciplines" [id]="discipline.id">
            <mat-divider></mat-divider>
            <td>
              <span>
                <mat-icon>school</mat-icon>
                <span>{{ discipline.discipline }}</span>
              </span>
            </td>
            <td>
              <span>
                <mat-icon>grade</mat-icon>
                <span>Nota P1</span>
                <span *ngIf="discipline.p1 !== null">{{ discipline.p1 | number : ".2-2" : "pt" }}</span>
                <span *ngIf="discipline.p1 === null">-</span>
              </span>
            </td>
            <td>
              <span>
                <mat-icon>grade</mat-icon>
                <span>Nota P2</span>
                <span *ngIf="discipline.p2 !== null">{{ discipline.p2 | number : ".2-2" : "pt" }}</span>
                <span *ngIf="discipline.p2 === null">-</span>
              </span>
            </td>
            <td>
              <div>
                <span>
                  <button mat-mini-fab color="primary" matTooltip="Editar"
                          (click)="updateGrade(discipline)">
                    <mat-icon>edit</mat-icon>
                  </button>
                </span>
              </div>
            </td>
            <mat-divider></mat-divider>
          </tr>
        </tbody>
      </table>
    </section>
    <section [ngClass]="isHideForm ? 'section-form hide' : 'section-form'">
      <div>
        <h3>{{ formTitle }}</h3>
        <form #form="ngForm" (ngSubmit)="submitForm()">
          <mat-form-field appearance="outline" hideRequiredMarker>
            <mat-label>Nota P1</mat-label>
            <input matInput type="number" [(ngModel)]="disciplineModel.p1" name="p1" min="0" max="10">
            <mat-error>Valores de 0 a 10</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline" hideRequiredMarker>
            <mat-label>Nota P2</mat-label>
            <input matInput type="number" [(ngModel)]="disciplineModel.p2" name="p2" min="0" max="10">
            <mat-error>Valores de 0 a 10</mat-error>
          </mat-form-field>
          <button type="submit" mat-raised-button color="primary">Gravar</button>
        </form>
        <button (click)="hideForm()" mat-raised-button color="warn">Cancelar</button>
      </div>
    </section>
  </div>
</main>
